(this.webpackJsonpveryrich=this.webpackJsonpveryrich||[]).push([[0],{194:function(e,t,n){},253:function(e,t){},309:function(e,t,n){e.exports=n(567)},354:function(e,t){},356:function(e,t){},388:function(e,t){},389:function(e,t){},433:function(e,t){},434:function(e,t){},567:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=(n(194),n(77)),i=n(94),u=n(279),s=n(280),c=n(303),l=n(306),d=n(146),f=n(574),m=n(573),p=n(96),g=n(60),v=n(68),h=n(572),b=n(575),D=n(9),E=n.n(D),S={API_KEY:"8973e2f9f9412a72ff5f0aa377e1f391",BASE_URL:"https://classic.warcraftlogs.com/v1/",ENDTIME:432e5,TRASHIDS:[16778,16449,16505,15981,15979,16025,16193,16154,16375,15976,16400,16243,16156,16861,15975,16290,16474,16164,16506,16573,16168,16020,16022,15977,16163,16984,51179550,16165,16194,16145,16146,16017,16775,16447,16158,16363,16776,16129,15980,16290,16453,16021,16029,16024,16157,16137,15974,16018,17055,16446,16244,16486,16215,15978,16368,16216,16067],EXCLUDEIDS:[15928,15929,15930,16011,16063,16062,16064,16065,16060,16428,16429,16427,16441,16803,16124,16125,16126,16127,16149,16148,16150,16297,16036,16037,16034,16236,16360,16068,14881,16030,16286,4075,16998],REMOVEBOSSIDS:[15928,15929,15930,16011,16060,16063,16062,16064,16065],BOSSIDS:[15990,15928,16062,16065,16028,16064,16060,16061,15929,15932,15931,16011,16063,15954,15936,15989,15930,15952,15956,15953],HUNTERAURA:20906,CHAINID:28410,WEBWRAPID:28622,SUNDERDEBUFFID:11198,BLOODTHIRSTID:23894,SHOTID:5019,VISCIDUSID:15299,VEKNISSID:26078,VEKNISS_THRESHOLD:1500,MANA_POTIONID:17531,SWIFT_BOOT_ID:9175,STOPWATCH_ID:14530,DARK_RUNEID:27869,DEMON_RUNEID:16666},I=n(149),B=n.n(I),y=B.a.ExcelFile,T=B.a.ExcelFile.ExcelSheet,O=B.a.ExcelFile.ExcelColumn,A=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).downloadExcel=function(){a.setState({loading:!0}),D.actions.report.getFight(a.state.report).then((function(){D.actions.report.getFightsData(a.state.report).then((function(){a.setState({loading:!1})}))}))},a.submit=function(){var e=[];a.setState({loading:!0}),e.push(D.actions.report.getBOSSDmg(a.state.report)),e.push(D.actions.report.getFight(a.state.report)),Promise.all(e).then((function(){e=[];var t=a.findTargetIds(S.TRASHIDS,a.props.fight),n=a.findTargetIds(S.BOSSIDS.filter((function(e){return!S.REMOVEBOSSIDS.includes(e)})),a.props.fight),r=a.findTargetIds(S.REMOVEBOSSIDS,a.props.fight);e.push(D.actions.report.getBossTrashDmg({trashIds:t,reportId:a.state.report,removedBossIds:r})),e.push(D.actions.report.getExcludedBossDmg({removedBossIds:r,reportId:a.state.report})),e.push(D.actions.report.getManaPotion(a.state.report)),e.push(D.actions.report.getRogueSunderDebuff(a.state.report)),e.push(D.actions.report.getChainDebuff(a.state.report)),e.push(D.actions.report.getWebWrapDebuff(a.state.report)),e.push(D.actions.report.getRunes(a.state.report)),e.push(D.actions.report.getHunterbuff(a.state.report)),e.push(D.actions.report.getBossTrashSunderCasts({trashIds:t.concat(n),reportId:a.state.report})),Promise.all(e).then((function(){a.setState({loading:!1})}))}))},a.findTargetIds=function(e,t){return(null===t||void 0===t?void 0:t.enemies).map((function(t){return e.includes(t.guid)&&t.id})).filter((function(e){return!!e}))},a.calculateBossTime=function(e){var t=0;return e&&e.fights.filter((function(e){return 0!==e.boss})).map((function(e){t+=e.end_time-e.start_time})),t/1e3},a.calculatedSunderAvg=function(e){var t,n=null===e||void 0===e?void 0:e.map((function(e){return e.sunder})).sort((function(e,t){return t-e})).slice(4).reduce((function(e,t){return e+t})),a=null===e||void 0===e||null===(t=e.filter((function(e){return"Warrior"===e.type})))||void 0===t?void 0:t.length;return Math.floor(n/(a-4)*.7)},a.calculateManualSum=function(e){var t,n=Object(i.a)({},e,{id:0});return null===(t=Object.values(n))||void 0===t?void 0:t.reduce((function(e,t){return e+t}),0)},a.generateSource=function(){var e,t=a.props,n=t.bossDmg,r=t.bossTrashDmg,o=t.bossTrashSunderCasts,i=t.manaPotion,u=t.runes,s=t.filteredBossDmg,c=t.hunterAura,l=t.chainDebuff,d=t.webWrapDebuff,f=t.rogueSunderDebuff,m={},p=a.calculatedSunderAvg(o),g=null===n||void 0===n?void 0:n.map((function(e){var t,n,g,v,h,b,D,E,S,I,B=null===r||void 0===r||null===(t=r.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.total,y=null===s||void 0===s||null===(n=s.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total,T="Warrior"===e.type?null===o||void 0===o||null===(g=o.find((function(t){return t.id===e.id})))||void 0===g?void 0:g.sunder:(null===o||void 0===o||null===(v=o.find((function(t){return t.id===e.id})))||void 0===v?void 0:v.rogueSunder)?f:0,O="Warrior"===e.type?T<p?Math.floor(-.05*B):0:"Rogue"===e.type?2e3*T:0,A=a.state.manual.find((function(t){return t.id===e.id}))||{},x=(null===i||void 0===i||null===(h=i.find((function(t){return t.id===e.id})))||void 0===h?void 0:h.total)||0,w=null===u||void 0===u||null===(b=u.find((function(t){return t.id===e.id})))||void 0===b?void 0:b.runes,_=Math.round((null===l||void 0===l||null===(D=l.find((function(t){return t.id===e.id})))||void 0===D?void 0:D.totalUptime)/1e3)||"",C=Math.round((null===d||void 0===d||null===(E=d.find((function(t){return t.id===e.id})))||void 0===E?void 0:E.totalUptime)/1e3)||"",k=!((null===c||void 0===c||null===(S=c.find((function(t){return t.id===e.id})))||void 0===S?void 0:S.totalUses)>12||(null===c||void 0===c||null===(I=c.find((function(t){return t.id===e.id})))||void 0===I?void 0:I.totalUptime)>5e5)||"Warrior"!==e.type&&"Rogue"!==e.type?0:Math.floor(-.015*B),R=Number(B)+Number(O)+Number(k)+a.calculateManualSum(A);return m[e.type]=m[e.type]>R?m[e.type]:R,{id:e.id,name:e.name,type:e.type,bossDmg:e.total,bossTrashDmg:B,sunderCasts:T,manaPotionCasts:x,runesCasts:w,filteredBossDmgData:y,sunderPenalty:O,hunterAuraPenalty:k,finalDamage:R,chainTime:_,webWrapTime:C,manual:A}}));return g=null===(e=g)||void 0===e?void 0:e.map((function(e){return e.finalScore=(e.finalDamage/m[e.type]).toFixed(2),e}))},a.handleManualChange=function(e,t,n){var r=a.state.manual.find((function(e){return e.id==t.id}))?a.state.manual.map((function(a){return a.id===t.id?Object(i.a)({},a,Object(o.a)({},n,Number(e.target.value))):a})):a.state.manual.concat([Object(o.a)({id:t.id},n,Number(e.target.value))]);a.setState({manual:r})},a.state={report:null,loading:!1,manual:[]},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.calculatedSunderAvg(this.props.bossTrashSunderCasts),n=this.generateSource(),a=this.props.fightsData,o=[{title:"ID",dataIndex:"name"},{title:"\u804c\u4e1a",dataIndex:"type",filters:[{text:"\u6218",value:"Warrior"},{text:"\u6cd5",value:"Mage"},{text:"\u672f",value:"Warlock"},{text:"\u730e",value:"Hunter"},{text:"\u8d3c",value:"Rogue"},{text:"\u5fb7",value:"Druid"},{text:"\u7267",value:"Priest"},{text:"\u9a91",value:"Paladin"},{text:"\u8428",value:"Shaman"}],onFilter:function(e,t){return t.type===e}},{title:"Boss\u4f24\u5bb3",dataIndex:"bossDmg",sorter:function(e,t){return e.bossDmg-t.bossDmg}},{title:r.a.createElement(d.a,{title:"\u53bb\u9664DK2, DK3\uff0c\u5b62\u5b50\u7537\uff0c\u7535\u7537\u7684\u4f24\u5bb3"},r.a.createElement("span",null,"\u6709\u6548boss\u4f24\u5bb3",r.a.createElement(b.a,null))),dataIndex:"filteredBossDmgData"},{title:"\u5168\u7a0b\u6709\u6548\u4f24\u5bb3",dataIndex:"bossTrashDmg",sorter:function(e,t){return e.bossTrashDmg-t.bossTrashDmg}},{title:r.a.createElement(d.a,{title:"\u8d3c\u7684\u7834\u7532\u4e3a\u5f3a\u7834"},r.a.createElement("span",null,"\u6709\u6548\u7834\u7532",r.a.createElement(b.a,null))),dataIndex:"sunderCasts",render:function(e,t){return"Warrior"===t.type||"Rogue"===t.type?e:""}},{title:r.a.createElement(d.a,{title:"\u5e73\u5747\u6570\u768470%\u4e3a: ".concat(t,"\uff0c\u4e0d\u8db3\u7684\u62635%\u6709\u6548\u4f24\u5bb3, \u8d3c\u6bcf\u4e2a\u6210\u529f\u7684\u5f3a\u7834\u8865\u507f2000\u4f24\u5bb3")},r.a.createElement("span",null,"\u7834\u7532\u8865/\u6263\u5206",r.a.createElement(b.a,null))),dataIndex:"sunderPenalty",render:function(e){return 0!==e?e:null}},{title:r.a.createElement(d.a,{title:"\u62631.5%\u6709\u6548\u4f24\u5bb3"},r.a.createElement("span",null,"\u5f3a\u51fb\u5149\u73af\u6263\u9664",r.a.createElement(b.a,null))),dataIndex:"hunterAuraPenalty",render:function(e){return 0!==e?e:null}},{title:"\u8001\u514b\u5fc3\u63a7",children:[{title:"\u65f6\u95f4",dataIndex:"chainTime"},{title:"\u8865\u5206",dataIndex:["manual","chain"],render:function(t,n){return r.a.createElement(f.a,{value:e.state.manual.chain,onBlur:function(t){return e.handleManualChange(t,n,"chain")},style:{maxWidth:85}})}}]},{title:r.a.createElement(d.a,{title:"\u8718\u86db3\u4e0a\u5899"},r.a.createElement("span",null,"\u86db\u7f51\u88f9\u4f53",r.a.createElement(b.a,null))),children:[{title:"\u65f6\u95f4",dataIndex:"webWrapTime"},{title:"\u8865\u5206",dataIndex:["manual","web"],render:function(t,n){return r.a.createElement(f.a,{value:e.state.manual.web,onBlur:function(t){return e.handleManualChange(t,n,"web")},style:{maxWidth:85}})}}]},{title:r.a.createElement(d.a,{title:"\u4f20\u9001\u65f6\u95f4\u65e0\u6cd5\u81ea\u52a8\u83b7\u53d6"},r.a.createElement("span",null,"\u8df3\u821e\u7537\u4f20\u9001",r.a.createElement(b.a,null))),children:[{title:"\u8865\u5206",dataIndex:["manual","tel"],render:function(t,n){return r.a.createElement(f.a,{value:e.state.manual.tel,onBlur:function(t){return e.handleManualChange(t,n,"tel")},style:{maxWidth:85}})}}]},{title:"\u5927\u84dd",dataIndex:"manaPotionCasts",sorter:function(e,t){return e.manaPotionCasts-t.manaPotionCasts}},{title:"\u7b26\u6587",dataIndex:"runesCasts",sorter:function(e,t){return e.runesCasts-t.runesCasts}},{title:"\u5176\u4ed6\u8865/\u6263\u5206",dataIndex:["manual","other"],render:function(t,n){return r.a.createElement(f.a,{value:e.state.manual.other,onBlur:function(t){return e.handleManualChange(t,n,"other")},style:{maxWidth:100}})}},{title:"\u603b\u5206",dataIndex:"finalDamage",sorter:function(e,t){return e.finalDamage-t.finalDamage},defaultSortOrder:"descend"},{title:"\u767e\u5206\u6bd4",dataIndex:"finalScore"}];return r.a.createElement(m.a,{title:r.a.createElement(p.a,{type:"flex",gutter:16},r.a.createElement(g.a,null,r.a.createElement(f.a,{style:{width:400},placeholder:"\u8bf7\u7c98\u8d34reportID\uff0c\u4f8b\u5982: Jzx9tgnTKvVwAX",onChange:function(t){return e.setState({report:t.target.value})}})),r.a.createElement(g.a,null,r.a.createElement(v.a,{onClick:this.submit},"\u63d0\u4ea4")),r.a.createElement(g.a,null,r.a.createElement(v.a,{onClick:this.downloadExcel},"\u751f\u6210\u4e0b\u8f7d\u94fe\u63a5")),a&&r.a.createElement(g.a,null,r.a.createElement(y,{element:r.a.createElement(v.a,null,"\u4e0b\u8f7d")},r.a.createElement(T,{data:a,name:"\u539f\u59cb\u6570\u636e"},r.a.createElement(O,{label:"mark",value:"mark"}),r.a.createElement(O,{label:"BattleID",value:"BattleID"}),r.a.createElement(O,{label:"BattleName",value:"BattleName"}),r.a.createElement(O,{label:"StartTime",value:"StartTime"}),r.a.createElement(O,{label:"EndTime",value:"EndTime"}),r.a.createElement(O,{label:"class",value:"class"}),r.a.createElement(O,{label:"name",value:"name"}),r.a.createElement(O,{label:"damage-done",value:"damage-done"}),r.a.createElement(O,{label:"damage-taken",value:"0"}),r.a.createElement(O,{label:"healing",value:"healing"})))))},r.a.createElement(h.a,{rowClassName:function(e){return e.type},size:"small",loading:this.state.loading,dataSource:n,columns:o,rowKey:"id",pagination:!1}))}}]),n}(a.Component),x=Object(D.connect)((function(e){return{bossDmg:e.report.bossDmg,filteredBossDmg:e.report.filteredBossDmg,fight:e.report.fight,bossTrashDmg:e.report.bossTrashDmg,bossTrashSunderCasts:e.report.bossTrashSunderCasts,webWrapDebuff:e.report.webWrapDebuff,chainDebuff:e.report.chainDebuff,manaPotion:e.report.manaPotion,runes:e.report.runes,hunterAura:e.report.hunterAura,rogueSunderDebuff:e.report.rogueSunderDebuff,fightsData:e.report.fightsData}}),null)(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(192),_=n(13),C=n.n(_),k=n(35),R=n(300),P=n.n(R);function N(e,t,n,a){return P()({method:e,url:t,headers:n,data:a})}function M(e){return N("GET",e,null,null)}var j={getDMGdone:function(e){return M("".concat(S.BASE_URL,"report/tables/damage-done/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME))},getBOSSDMG:function(e){return M("".concat(S.BASE_URL,"report/tables/damage-done/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME,"&targetclass=boss"))},getBOSSTrashDmg:function(e,t){return M("".concat(S.BASE_URL,"report/tables/damage-done/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME,"&targetid=").concat(t))},getBOSSTrashCast:function(e,t){return M("".concat(S.BASE_URL,"report/tables/casts/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME,"&targetid=").concat(t))},getFight:function(e){return M("".concat(S.BASE_URL,"report/fights/").concat(e,"?api_key=").concat(S.API_KEY))},getFightSummary:function(e,t,n){return M("".concat(S.BASE_URL,"report/tables/summary/").concat(e,"?api_key=").concat(S.API_KEY,"&start=").concat(t,"&end=").concat(n))},getDamageTakenByAbility:function(e,t){return M("".concat(S.BASE_URL,"report/tables/damage-taken/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME,"&abilityid=").concat(t))},getDebuffsByAbility:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="".concat(S.BASE_URL,"report/tables/debuffs/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME,"&abilityid=").concat(t,"&hostility=").concat(n?1:0);return M(a)},getDamageDoneByAbilityAndTarget:function(e,t,n){return M("".concat(S.BASE_URL,"report/tables/damage-done/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME,"&abilityid=").concat(t,"&targetid=").concat(n))},getCastsByAbility:function(e,t){return M("".concat(S.BASE_URL,"report/tables/casts/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME,"&abilityid=").concat(t))},getBuffsByAbility:function(e,t){return M("".concat(S.BASE_URL,"report/tables/buffs/").concat(e,"?api_key=").concat(S.API_KEY,"&end=").concat(S.ENDTIME,"&abilityid=").concat(t))}},W=n(79),U=n.n(W),F={name:"report",initialState:{dmg:null,bossDmg:null,filteredBossDmg:null,fight:null,bossTrashDmg:null,poisonDmgTaken:null,chainDebuff:null,webWrapDebuff:null,rogueSunderDebuff:null,viscidusBanned:null,hunterAura:null,manaPotion:null,runes:null,swiftBoot:null,stopWatch:null,fightsData:null},reducers:{save:function(e,t){return Object(i.a)({},e,{},t)}},effects:{getS:function(e,t){return t()},getDmg:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getDMGdone(e);case 2:n=t.sent,D.actions.report.save({dmg:n.data.entries});case 4:case"end":return t.stop()}}),t)})))()},getPoisonDmgTaken:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getDamageTakenByAbility(e,S.POISONID);case 2:n=t.sent,D.actions.report.save({poisonDmgTaken:n.data.entries});case 4:case"end":return t.stop()}}),t)})))()},getChainDebuff:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getDebuffsByAbility(e,S.CHAINID);case 2:n=t.sent,D.actions.report.save({chainDebuff:n.data.auras});case 4:case"end":return t.stop()}}),t)})))()},getRogueSunderDebuff:function(e){return Object(k.a)(C.a.mark((function t(){var n,a,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getDebuffsByAbility(e,S.SUNDERDEBUFFID,!0);case 2:r=t.sent,o=[].concat(Object(w.a)(S.TRASHIDS),Object(w.a)(S.BOSSIDS)).filter((function(e){return!S.REMOVEBOSSIDS.includes(e)})),D.actions.report.save({rogueSunderDebuff:null===(n=r.data)||void 0===n||null===(a=n.auras)||void 0===a?void 0:a.filter((function(e){return o.includes(e.guid)})).reduce((function(e,t){return e+Number(t.totalUses)}),0)});case 5:case"end":return t.stop()}}),t)})))()},getWebWrapDebuff:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getDebuffsByAbility(e,S.WEBWRAPID);case 2:n=t.sent,D.actions.report.save({webWrapDebuff:n.data.auras});case 4:case"end":return t.stop()}}),t)})))()},getBossTrashDmg:function(e){return Object(k.a)(C.a.mark((function t(){var n,a,r,o,i,u;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.reportId,a=e.trashIds,r=e.removedBossIds,o=D.actions.report.getS().report.bossDmg,i=[],a.map((function(e){i.push(j.getBOSSTrashDmg(n,e))})),Promise.all(i).then((function(e){e.map((function(e){o=o.map((function(t){var n,a=U.a.cloneDeep(t),r=null===(n=e.data.entries.find((function(e){return e.id===t.id})))||void 0===n?void 0:n.total;return a.total=Number.isInteger(r)?a.total+r:a.total,a})),D.actions.report.save({bossTrashDmg:o})}))})),u=[],r.map((function(e){u.push(j.getBOSSTrashDmg(n,e))})),Promise.all(u).then((function(e){e.map((function(e){o=o.map((function(t){var n,a=U.a.cloneDeep(t),r=null===(n=e.data.entries.find((function(e){return e.id===t.id})))||void 0===n?void 0:n.total;return a.total=Number.isInteger(r)?a.total-r:a.total,a})),D.actions.report.save({bossTrashDmg:o})}))}));case 8:case"end":return t.stop()}}),t)})))()},getExcludedBossDmg:function(e){return Object(k.a)(C.a.mark((function t(){var n,a,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.reportId,a=e.removedBossIds,r=D.actions.report.getS().report.filteredBossDmg,o=[],a.map((function(e){o.push(j.getBOSSTrashDmg(n,e))})),Promise.all(o).then((function(e){e.map((function(e){r=r.map((function(t){var n,a=U.a.cloneDeep(t),r=null===(n=e.data.entries.find((function(e){return e.id===t.id})))||void 0===n?void 0:n.total;return a.total=Number.isInteger(r)?a.total-r:a.total,a})),D.actions.report.save({filteredBossDmg:r})}))}));case 5:case"end":return t.stop()}}),t)})))()},getBossTrashSunderCasts:function(e){return Object(k.a)(C.a.mark((function t(){var n,a,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.reportId,a=e.trashIds,r=D.actions.report.getS().report.bossDmg,o=[],a.map((function(e){o.push(j.getBOSSTrashCast(n,e))})),Promise.all(o).then((function(e){e.map((function(e){r=r.map((function(t){var n,a,r,o=U.a.cloneDeep(t);o.sunder=o.sunder||0;var i=null===(n=e.data.entries.find((function(e){return e.id===t.id})))||void 0===n||null===(a=n.abilities.find((function(e){return"\u7834\u7532\u653b\u51fb"===e.name})))||void 0===a?void 0:a.total;return o.sunder=Number.isInteger(i)?o.sunder+i:o.sunder,o.rogueSunder=!!(null===(r=e.data.entries.find((function(e){return e.id===t.id})))||void 0===r?void 0:r.abilities.find((function(e){return"\u7834\u7532"===e.name}))),o})),D.actions.report.save({bossTrashSunderCasts:r})}))}));case 5:case"end":return t.stop()}}),t)})))()},getViscidusBanned:function(e){return Object(k.a)(C.a.mark((function t(){var n,a,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.reportId,a=e.viscidusId,r=D.actions.report.getS().report.bossDmg,(o=[]).push(j.getDamageDoneByAbilityAndTarget(n,S.BLOODTHIRSTID,a)),o.push(j.getDamageDoneByAbilityAndTarget(n,S.EXECUTEID,a)),Promise.all(o).then((function(e){e.map((function(e){r=r.map((function(t){var n,a=U.a.cloneDeep(t);a.banned=a.banned||0;var r=null===(n=e.data.entries.find((function(e){return e.id===t.id})))||void 0===n?void 0:n.hitCount;return a.banned=Number.isInteger(r)?a.banned+r:a.banned,a})),D.actions.report.save({viscidusBanned:r})}))}));case 6:case"end":return t.stop()}}),t)})))()},getViscidusCasts:function(e){return Object(k.a)(C.a.mark((function t(){var n,a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.reportId,a=e.viscidusId,t.next=3,j.getBOSSTrashCast(n,a);case 3:r=t.sent,D.actions.report.save({viscidusCasts:r.data.entries});case 5:case"end":return t.stop()}}),t)})))()},getViscidusFrosts:function(e){return Object(k.a)(C.a.mark((function t(){var n,a,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.reportId,a=e.viscidusId,r=D.actions.report.getS().report.bossDmg,(o=[]).push(j.getDamageDoneByAbilityAndTarget(n,S.OILFROSTID,a)),o.push(j.getDamageDoneByAbilityAndTarget(n,S.WEAPONFROSTID,a)),Promise.all(o).then((function(e){e.map((function(e){r=r.map((function(t){var n,a=U.a.cloneDeep(t);a.meleeFrost=a.meleeFrost||0;var r=null===(n=e.data.entries.find((function(e){return e.id===t.id})))||void 0===n?void 0:n.hitCount;return a.meleeFrost=Number.isInteger(r)?a.meleeFrost+r:a.meleeFrost,a})),D.actions.report.save({viscidusMeleeFrost:r})}))}));case 6:case"end":return t.stop()}}),t)})))()},getBOSSDmg:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getBOSSDMG(e);case 2:n=t.sent,D.actions.report.save({bossDmg:n.data.entries,filteredBossDmg:n.data.entries});case 4:case"end":return t.stop()}}),t)})))()},getFight:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getFight(e);case 2:n=t.sent,D.actions.report.save({fight:n.data});case 4:case"end":return t.stop()}}),t)})))()},getFightsData:function(e){return Object(k.a)(C.a.mark((function t(){var n,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=D.actions.report.getS().report.fight.fights,a=n.map(function(){var t=Object(k.a)(C.a.mark((function t(n){var a,r,u,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getFightSummary(e,n.start_time,n.end_time);case 2:return u=t.sent,s={BattleID:n.id,BattleName:n.name,StartTime:n.start_time,EndTime:n.end_time},t.abrupt("return",null===(a=u.data)||void 0===a||null===(r=a.composition)||void 0===r?void 0:r.filter((function(e){return"Warrior"===e.type||"Rogue"===e.type})).map((function(e){var t,n,a,r,c,l,d;return Object(i.a)({},s,(d={name:e.name,class:e.type,mark:s.BattleID+e.name},Object(o.a)(d,"damage-done",(null===(t=u.data)||void 0===t||null===(n=t.damageDone)||void 0===n||null===(a=n.find((function(t){return t.id===e.id})))||void 0===a?void 0:a.total)||0),Object(o.a)(d,"healing",(null===(r=u.data)||void 0===r||null===(c=r.healingDone)||void 0===c||null===(l=c.find((function(t){return t.id===e.id})))||void 0===l?void 0:l.total)||0),d))})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Promise.all(a).then((function(e){var t=e.reduce((function(e,t){return e.concat(t)}),[]);D.actions.report.save({fightsData:t})}));case 3:case"end":return t.stop()}}),t)})))()},getManaPotion:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getCastsByAbility(e,S.MANA_POTIONID);case 2:n=t.sent,D.actions.report.save({manaPotion:n.data.entries});case 4:case"end":return t.stop()}}),t)})))()},getStopWatch:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getCastsByAbility(e,S.STOPWATCH_ID);case 2:n=t.sent,D.actions.report.save({stopWatch:n.data.entries});case 4:case"end":return t.stop()}}),t)})))()},getSwiftBoot:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getCastsByAbility(e,S.SWIFT_BOOT_ID);case 2:n=t.sent,D.actions.report.save({swiftBoot:n.data.entries});case 4:case"end":return t.stop()}}),t)})))()},getRunes:function(e){return Object(k.a)(C.a.mark((function t(){var n,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=D.actions.report.getS().report.bossDmg,(a=[]).push(j.getCastsByAbility(e,S.DARK_RUNEID)),a.push(j.getCastsByAbility(e,S.DEMON_RUNEID)),Promise.all(a).then((function(e){e.map((function(e){n=n.map((function(t){var n,a=U.a.cloneDeep(t);a.runes=a.runes||0;var r=null===(n=e.data.entries.find((function(e){return e.id===t.id})))||void 0===n?void 0:n.total;return a.runes=Number.isInteger(r)?a.runes+r:a.runes,a})),D.actions.report.save({runes:n})}))}));case 5:case"end":return t.stop()}}),t)})))()},getHunterbuff:function(e){return Object(k.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getBuffsByAbility(e,S.HUNTERAURA);case 2:n=t.sent,D.actions.report.save({hunterAura:n.data.auras});case 4:case"end":return t.stop()}}),t)})))()}}};n(565);E.a.model(F),Object(D.render)(r.a.createElement(D.Router,null,r.a.createElement(D.Switch,null,r.a.createElement(D.Route,{path:"/",component:x}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[309,1,2]]]);
//# sourceMappingURL=main.1a928d4f.chunk.js.map