(this.webpackJsonpveryrich=this.webpackJsonpveryrich||[]).push([[0],{199:function(t,e,n){},258:function(t,e){},311:function(t,e,n){t.exports=n(569)},356:function(t,e){},358:function(t,e){},390:function(t,e){},391:function(t,e){},435:function(t,e){},436:function(t,e){},569:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=(n(199),n(106)),o=n(70),s=n(131),u=n(132),c=n(147),d=n(152),l=n(19),f=n.n(l),p=n(149),v=n(575),m=n(574),h=n(96),g=n(61),D=n(577),E=n(69),b=n(573),I=n(576),S=n(8),T=n.n(S),y={API_KEY:"8973e2f9f9412a72ff5f0aa377e1f391",BASE_URL:"https://classic.warcraftlogs.com/v1/",ENDTIME:432e5,TRASHIDS:[16778,16449,15981,15979,16025,16193,16154,16375,15976,16400,16243,16156,16861,15975,16290,16474,16164,16506,16573,16168,16020,16022,15977,16163,16984,51179550,16165,16194,16145,16146,16017,16775,16447,16158,16363,16776,16129,15980,16290,16453,16021,16029,16024,16157,16137,15974,16018,17055,16446,16244,16486,16215,15978,16368,16216,16067],EXCLUDEIDS:[15928,15929,16505,15930,16011,16063,16062,16064,16065,16060,16428,16429,16427,16441,16803,16124,16125,16126,16127,16149,16148,16150,16297,16036,16037,16034,16236,16360,16068,14881,16030,16286,4075,16998],REMOVEBOSSIDS:[15928,15929,15930,16011,16060,16063,16062,16064,16065,15990],BOSSIDS:[15990,15928,16062,16065,16028,16064,16060,16061,15929,15932,15931,16011,16063,15954,15936,15989,15930,15952,15956,15953],HUNTERAURA:20906,CHAINID:28410,WEBWRAPID:28622,WEB_WRAP_RUN:7,SUNDERDEBUFFID:11198,BLOODTHIRSTID:23894,SHOTID:5019,VISCIDUSID:15299,VEKNISSID:26078,VEKNISS_THRESHOLD:1500,MANA_POTIONID:17531,SWIFT_BOOT_ID:9175,STOPWATCH_ID:14530,DARK_RUNEID:27869,DEMON_RUNEID:16666,DENSE_BOMB:23063,SAPPER:13241,HAT:11828,SLIME:16024,DEATHWISH:12328,RECKLESSNESS:1719,BLADEFLURRY:13877,RUSH:13750,PUMMEL:6554,SHIELDBASH:1672,KICK:1769,INTERRUPT1:15987,THADDIUS_ENCOUNTER_ID:1120,LOATHEB_ENCOUNTER_ID:1115,NOTH_CURSE_ID:29213,NOTH_ENCOUNTER_ID:1117,RESTO:11359,STONESHIELD:17540,DARKRES:17548,ICERES:17544,NATUREDMG1:30043,NATUREDMG2:28428,SHADOW_BRUST:28447,HEIGAN_ENCOUNTER_ID:1112,SWIFT_BOOT_ITEM_ID:7391,ROCKET_BOOT_ITEM_ID:7189,FOUR_ENCOUNTER_ID:1121,MAEXXNA_ENCOUNTER_ID:1116,LIFE_STEAL_ID:28542,ANUB_ENCOUNTER_ID:1107,SAPPHIRON_ENCOUNTER_ID:1119,KEL_ENCOUNTER_ID:1114,KEL_ID:15990,MELEE_ID:1,BS1_ID:23881,BS4_ID:23894,HS_ID:25286,WW_ID:1680,EX_ID:20647},A=n(154),_=n.n(A),N=function(t){Object(d.a)(n,t);var e=Object(c.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props.tactics;return a.a.createElement(b.a,{rowClassName:function(t){return t.type},size:"small",loading:this.props.loading,dataSource:t,columns:[{title:"ID",dataIndex:"name"},{title:"\u804c\u4e1a",dataIndex:"type",filters:[{text:"\u6218",value:"Warrior"},{text:"\u6cd5",value:"Mage"},{text:"\u672f",value:"Warlock"},{text:"\u730e",value:"Hunter"},{text:"\u8d3c",value:"Rogue"},{text:"\u5fb7",value:"Druid"},{text:"\u7267",value:"Priest"},{text:"\u9a91",value:"Paladin"},{text:"\u8428",value:"Shaman"}],onFilter:function(t,e){return e.type===t}},{title:"\u6784\u9020\u533a",children:[{title:"\u80d6\u5b50+\u8f6f\u6ce5",children:[{title:"\u81f4\u5bc6\u4f24\u5bb3",dataIndex:"dense1"},{title:"\u5e3d\u5b50\u4f24\u5bb3",dataIndex:"hat"}]},{title:"\u7535\u7537\u6b7b\u613f/\u51b2\u52a8",dataIndex:"deathwish1"}]},{title:"\u761f\u75ab\u533a",children:[{title:"\u8bfa\u65af\u6ecb\u8865",dataIndex:"resto",render:function(t,e){return e.resto?"\u6709\u8bc5\u5492\u6ca1\u6ecb\u8865\u6216\u5403\u4e86\u88ab\u53d6\u6d88":"\u6ca1\u95ee\u9898"}},{title:"\u8df3\u821e\u7537\u8fc5\u6377\u978b",dataIndex:"swiftBoot"},{title:"\u5b62\u5b50\u6b7b\u613f/\u51b2\u52a8",dataIndex:"deathwish2"}]},{title:"\u519b\u4e8b\u533a",children:[{title:"\u90aa\u6076\u6b66\u5668\u77f3\u76fe",dataIndex:"stoneShield",render:function(t,e){return e.stoneShield?"1":"0"}},{title:"4DK\u6697\u6297",dataIndex:"darkres"},{title:"4DK\u9c81\u83bd/\u4e71\u821e",dataIndex:"recklessness"},{title:"4DK\u6b7b\u613f/\u51b2\u52a8",dataIndex:"deathwish3"}]},{title:"\u8718\u86db\u533a",children:[{title:"\u81ea\u7136\u6297",dataIndex:"natureres",render:function(t,e){return e.natureres?"\u6709\u81ea\u7136\u6297\u6216\u6ca1\u53d7\u4f24\u5bb3":"\u53ef\u80fd\u6ca1\u6709(\u9700\u590d\u67e5)"}},{title:"\u8718\u86db1\u706b\u7bad\u978b",dataIndex:"rocketBoot"},{title:"\u4f8d\u50e7\u6697\u5438",dataIndex:"darkAbsorb",render:function(t,e){return e.darkAbsorb?"\u6709":"\u6ca1\u6709"}},{title:"\u4f8d\u50e7\u5730\u7cbe\u5de5\u5175",dataIndex:"sapper"}]},{title:"\u4e2d\u5fc3\u533a",children:[{title:"\u51b0\u9f99\u6697\u6297\u5438\u6536",dataIndex:"darkres2",render:function(t,e){return!e.darkres2&&"\u6ca1\u6709"}},{title:"\u51b0\u9f99\u6b7b\u613f",dataIndex:"deathwish4"},{title:"\u8001\u514b\u51b0\u6297",dataIndex:"iceres"},{title:"\u8001\u514b\u6253\u65ad",dataIndex:"interrupt2"}]}],rowKey:"id",pagination:!1})}}]),n}(r.Component),O=_.a.ExcelFile,B=_.a.ExcelFile.ExcelSheet,R=_.a.ExcelFile.ExcelColumn,C=function(t){Object(d.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).downloadExcel=function(){var t=r.state.report;r.setState({loading:!0});var e=[];e.push(S.actions.report.getBOSSDmg(t)),e.push(S.actions.report.getFight(t)),Promise.all(e).then((function(){S.actions.report.getFightsData(t).then((function(){r.setState({loading:!1})}))}))},r.submit=function(){var t=r.state,e=t.tactical,n=t.report,a=[];r.setState({loading:!0}),a.push(S.actions.report.getBOSSDmg(r.state.report)),a.push(S.actions.report.getFight(r.state.report)),Promise.all(a).then((function(){if(a=[],e){var t=r.findTargetIds([y.SLIME],r.props.fight),i=r.findTargetIds([y.INTERRUPT1],r.props.fight);a.push(S.actions.report.getSlime({reportId:n,slimeID:t})),a.push(S.actions.report.getThaddius(n)),a.push(S.actions.report.get4DK(n)),a.push(S.actions.report.getSpider({reportId:n,interruptID:i}))}else{var o=r.findTargetIds(y.TRASHIDS,r.props.fight),s=r.findTargetIds(y.BOSSIDS.filter((function(t){return!y.REMOVEBOSSIDS.includes(t)})),r.props.fight),u=r.findTargetIds(y.REMOVEBOSSIDS,r.props.fight);a.push(S.actions.report.getBossTrashDmg({trashIds:o,reportId:n,removedBossIds:u})),a.push(S.actions.report.getExcludedBossDmg({removedBossIds:u,reportId:n})),a.push(S.actions.report.getManaPotion(n)),a.push(S.actions.report.getRogueSunderDebuff(n)),a.push(S.actions.report.getWebWrapDebuff(n)),a.push(S.actions.report.getRunes(n)),a.push(S.actions.report.getHunterbuff(n)),a.push(S.actions.report.getBossTrashSunderCasts({trashIds:o.concat(s),reportId:r.state.report})),a.push(S.actions.report.getBossTrashLess5SunderCasts({trashIds:o.concat(s),reportId:r.state.report}))}Promise.all(a).then((function(){r.setState({loading:!1})}))}))},r.findTargetIds=function(t,e){return(null===e||void 0===e?void 0:e.enemies).map((function(e){return t.includes(e.guid)&&e.id})).filter((function(t){return!!t}))},r.calculatedSunderAvg=function(t){var e,n=null===t||void 0===t?void 0:t.map((function(t){return t.sunder})).sort((function(t,e){return e-t})).slice(4).reduce((function(t,e){return t+e})),r=null===t||void 0===t||null===(e=t.filter((function(t){return"Warrior"===t.type})))||void 0===e?void 0:e.length;return Math.floor(n/(r-4)*.7)},r.calculatedEffectiveSunderAvg=function(t){var e,n=null===t||void 0===t?void 0:t.map((function(t){return t.less5sunder})).sort((function(t,e){return e-t})).slice(4).reduce((function(t,e){return t+e})),r=null===t||void 0===t||null===(e=t.filter((function(t){return"Warrior"===t.type})))||void 0===e?void 0:e.length;return Math.floor(n/(r-4)*.7)},r.calculateManualSum=function(t){var e,n=Object(o.a)({},t,{id:0});return null===(e=Object.values(n))||void 0===e?void 0:e.reduce((function(t,e){return t+e}),0)},r.generateSource=function(){var t,e=r.props,n=e.bossDmg,a=e.bossTrashDmg,i=e.bossTrashSunderCasts,o=e.manaPotion,s=e.runes,u=e.filteredBossDmg,c=e.hunterAura,d=e.chainDebuff,l=e.bossTrashLess5SunderCasts,f=e.webWrapDebuff,p=e.rogueSunderDebuff,v=e.kelParry,m={},h=r.calculatedEffectiveSunderAvg(l),g=r.calculatedSunderAvg(i),D=null===n||void 0===n?void 0:n.map((function(t){var e,n,D,E,b,I,S,T,y,A,_,N,O,B,R=null===a||void 0===a||null===(e=a.find((function(e){return e.id===t.id})))||void 0===e?void 0:e.total,C=null===u||void 0===u||null===(n=u.find((function(e){return e.id===t.id})))||void 0===n?void 0:n.total,w="Warrior"===t.type?null===i||void 0===i||null===(D=i.find((function(e){return e.id===t.id})))||void 0===D?void 0:D.sunder:(null===i||void 0===i||null===(E=i.find((function(e){return e.id===t.id})))||void 0===E?void 0:E.rogueSunder)?p:0,k="Warrior"===t.type?null===l||void 0===l||null===(b=l.find((function(e){return e.id===t.id})))||void 0===b?void 0:b.less5sunder:"",x="Warrior"===t.type?k<h||w<g?Math.floor(-.05*R):0:"Rogue"===t.type?2200*w:0,U=r.state.manual.find((function(e){return e.id===t.id}))||{},P=(null===o||void 0===o||null===(I=o.find((function(e){return e.id===t.id})))||void 0===I?void 0:I.total)||0,M=null===s||void 0===s||null===(S=s.find((function(e){return e.id===t.id})))||void 0===S?void 0:S.runes,H=Math.round((null===d||void 0===d||null===(T=d.find((function(e){return e.id===t.id})))||void 0===T?void 0:T.totalUptime)/1e3)||"",L=(null===d||void 0===d||null===(y=d.find((function(e){return e.id===t.id})))||void 0===y?void 0:y.debuffDmg)||"",W=null===v||void 0===v||null===(A=v.find((function(e){return e.id===t.id})))||void 0===A?void 0:A.kelParryDmg,K=Math.round((null===f||void 0===f||null===(_=f.find((function(e){return e.id===t.id})))||void 0===_?void 0:_.totalUptime)/1e3)||"",j=(null===f||void 0===f||null===(N=f.find((function(e){return e.id===t.id})))||void 0===N?void 0:N.debuffDmg)||"",F=!((null===c||void 0===c||null===(O=c.find((function(e){return e.id===t.id})))||void 0===O?void 0:O.totalUses)>12||(null===c||void 0===c||null===(B=c.find((function(e){return e.id===t.id})))||void 0===B?void 0:B.totalUptime)>5e5)||"Warrior"!==t.type&&"Rogue"!==t.type?0:Math.floor(-.015*R),Y=Number(R)+Number(x)+Number(F)+r.calculateManualSum(U);return m[t.type]=m[t.type]>Y?m[t.type]:Y,{id:t.id,name:t.name,type:t.type,bossDmg:t.total,bossTrashDmg:R,sunderCasts:w,manaPotionCasts:P,runesCasts:M,filteredBossDmgData:C,sunderPenalty:x,hunterAuraPenalty:F,finalDamage:Y,chainTime:H,chainDmg:L,webWrapTime:K,webDmg:j,manual:U,kelParryDmg:W,less5sunderCasts:k}}));return D=null===(t=D)||void 0===t?void 0:t.map((function(t){return t.finalScore=(t.finalDamage/m[t.type]).toFixed(2),t}))},r.handleManualChange=function(t,e,n){var a=r.state.manual.find((function(t){return t.id==e.id}))?r.state.manual.map((function(r){return r.id===e.id?Object(o.a)({},r,Object(i.a)({},n,Number(t.target.value))):r})):r.state.manual.concat([Object(i.a)({id:e.id},n,Number(t.target.value))]);r.setState({manual:a})},r.mergeTactics=function(){var t=r.props;return[t.slimeTactics,t.thaddiusTactics,t.fourTactics,t.spiderTactics].reduce((function(t,e){return f.a.zipWith(t,e,(function(t,e){return Object(o.a)({},t,{},e)}))}))},r.state={report:null,loading:!1,manual:[],tactical:!1},r}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.fightsData,r=e.bossTrashSunderCasts,i=e.bossTrashLess5SunderCasts,o=this.mergeTactics(),s=this.state,u=s.tactical,c=s.loading,d=this.calculatedSunderAvg(r),l=this.calculatedEffectiveSunderAvg(i),f=this.generateSource(),S=n,T=[{title:"ID",dataIndex:"name"},{title:"\u804c\u4e1a",dataIndex:"type",filters:[{text:"\u6218",value:"Warrior"},{text:"\u6cd5",value:"Mage"},{text:"\u672f",value:"Warlock"},{text:"\u730e",value:"Hunter"},{text:"\u8d3c",value:"Rogue"},{text:"\u5fb7",value:"Druid"},{text:"\u7267",value:"Priest"},{text:"\u9a91",value:"Paladin"},{text:"\u8428",value:"Shaman"}],onFilter:function(t,e){return e.type===t}},{title:"Boss\u4f24\u5bb3",dataIndex:"bossDmg",sorter:function(t,e){return t.bossDmg-e.bossDmg}},{title:a.a.createElement(p.a,{title:"\u53bb\u9664DK2, DK3\uff0c\u5b62\u5b50\u7537\uff0c\u7535\u7537\uff0c\u8001\u514b\u7684\u4f24\u5bb3"},a.a.createElement("span",null,"\u6709\u6548boss\u4f24\u5bb3",a.a.createElement(I.a,null))),dataIndex:"filteredBossDmgData"},{title:"\u5168\u7a0b\u6709\u6548\u4f24\u5bb3",dataIndex:"bossTrashDmg",sorter:function(t,e){return t.bossTrashDmg-e.bossTrashDmg}},{title:a.a.createElement(p.a,{title:"\u76ee\u6807\u662f\u8003\u6838DPS\u7684\u602a\uff0c\u62ec\u53f7\u91cc\u662f\u5bf9\u6709\u6548\u76ee\u6807\u7834\u7532\u5c42\u6570\u4e0d\u8db35\u5c42\u65f6\u6253\u7684\u7834\u7532\uff0c\u8d3c\u7684\u7834\u7532\u4e3a\u5f3a\u7834"},a.a.createElement("span",null,"\u6709\u6548\u76ee\u6807\u7834\u7532\u6570",a.a.createElement(I.a,null))),dataIndex:"sunderCasts",render:function(t,e){return"Warrior"===e.type?"".concat(t,"(").concat(e.less5sunderCasts,")"):"Rogue"===e.type?t:""}},{title:a.a.createElement(p.a,{title:"\u5e73\u5747\u6570\u768470%\u4e3a: ".concat(d,"(").concat(l,")\uff0c\u4efb\u610f\u4e00\u9879\u4e0d\u8db3\u7684\u62635%\u6709\u6548\u4f24\u5bb3, \u8d3c\u6bcf\u4e2a\u6210\u529f\u7684\u5f3a\u7834\u8865\u507f2200\u4f24\u5bb3")},a.a.createElement("span",null,"\u7834\u7532\u8865/\u6263\u5206",a.a.createElement(I.a,null))),dataIndex:"sunderPenalty",render:function(t){return 0!==t?t:null}},{title:a.a.createElement(p.a,{title:"\u62631.5%\u6709\u6548\u4f24\u5bb3"},a.a.createElement("span",null,"\u5f3a\u51fb\u5149\u73af\u6263\u9664",a.a.createElement(I.a,null))),dataIndex:"hunterAuraPenalty",render:function(t){return 0!==t?t:null}},{title:"\u5927\u84dd",dataIndex:"manaPotionCasts",sorter:function(t,e){return t.manaPotionCasts-e.manaPotionCasts}},{title:"\u7b26\u6587",dataIndex:"runesCasts",sorter:function(t,e){return t.runesCasts-e.runesCasts}},{title:"\u5176\u4ed6\u8865/\u6263\u5206",dataIndex:["manual","other"],render:function(e,n){return a.a.createElement(v.a,{value:t.state.manual.other,onBlur:function(e){return t.handleManualChange(e,n,"other")},style:{maxWidth:100}})}},{title:"\u603b\u5206",dataIndex:"finalDamage",sorter:function(t,e){return t.finalDamage-e.finalDamage},defaultSortOrder:"descend"},{title:"\u767e\u5206\u6bd4",dataIndex:"finalScore"}];return a.a.createElement(m.a,{title:a.a.createElement(h.a,{type:"flex",gutter:16},a.a.createElement(g.a,null,a.a.createElement(D.a,{checked:u,onChange:function(e){return t.setState({tactical:e})},checkedChildren:"\u6218\u672f\u52a8\u4f5c",unCheckedChildren:"\u4f24\u5bb3\u7edf\u8ba1"})),a.a.createElement(g.a,null,a.a.createElement(v.a,{style:{width:400},placeholder:"\u8bf7\u7c98\u8d34reportID\uff0c\u4f8b\u5982: Jzx9tgnTKvVwAX",onChange:function(e){return t.setState({report:e.target.value})}})),a.a.createElement(g.a,null,a.a.createElement(E.a,{onClick:this.submit},"\u63d0\u4ea4")),!u&&a.a.createElement(g.a,null,a.a.createElement(E.a,{onClick:this.downloadExcel},"\u751f\u6210\u4e0b\u8f7d\u94fe\u63a5")),S&&a.a.createElement(g.a,null,a.a.createElement(O,{element:a.a.createElement(E.a,null,"\u4e0b\u8f7d")},a.a.createElement(B,{data:S,name:"\u539f\u59cb\u6570\u636e"},a.a.createElement(R,{label:"mark",value:"mark"}),a.a.createElement(R,{label:"BattleID",value:"BattleID"}),a.a.createElement(R,{label:"BattleName",value:"BattleName"}),a.a.createElement(R,{label:"StartTime",value:"StartTime"}),a.a.createElement(R,{label:"EndTime",value:"EndTime"}),a.a.createElement(R,{label:"class",value:"class"}),a.a.createElement(R,{label:"name",value:"name"}),a.a.createElement(R,{label:"damage-done",value:"damageDone"}),a.a.createElement(R,{label:"healing",value:"healing"})))))},u?a.a.createElement(N,{loading:c,tactics:o}):a.a.createElement(b.a,{rowClassName:function(t){return t.type},size:"small",loading:c,dataSource:f,columns:T,rowKey:"id",pagination:!1}))}}]),n}(r.Component),w=Object(S.connect)((function(t){return t.report}))(C);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=n(197),x=n(11),U=n.n(x),P=n(34),M=n(303),H=n.n(M);function L(t,e,n,r){return H()({method:t,url:e,headers:n,data:r})}function W(t){return L("GET",t,null,null)}var K={getDMGdone:function(t){return W("".concat(y.BASE_URL,"report/tables/damage-done/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME))},getBOSSDMG:function(t){return W("".concat(y.BASE_URL,"report/tables/damage-done/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&targetclass=boss"))},getBOSSTrashDmg:function(t,e){return W("".concat(y.BASE_URL,"report/tables/damage-done/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&targetid=").concat(e))},getBOSSTrashCast:function(t,e){return W("".concat(y.BASE_URL,"report/tables/casts/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&targetid=").concat(e))},getFight:function(t){return W("".concat(y.BASE_URL,"report/fights/").concat(t,"?api_key=").concat(y.API_KEY))},getFightSummary:function(t,e,n){return W("".concat(y.BASE_URL,"report/tables/summary/").concat(t,"?api_key=").concat(y.API_KEY,"&start=").concat(e,"&end=").concat(n))},getDamageTakenByAbility:function(t,e){return W("".concat(y.BASE_URL,"report/tables/damage-taken/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&abilityid=").concat(e))},getDebuffsByAbility:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="".concat(y.BASE_URL,"report/tables/debuffs/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&abilityid=").concat(e,"&hostility=").concat(n?1:0);return W(r)},getDamageDoneByAbilityAndTarget:function(t,e,n){return W("".concat(y.BASE_URL,"report/tables/damage-done/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&abilityid=").concat(e,"&targetid=").concat(n))},getCastsByAbility:function(t,e){return W("".concat(y.BASE_URL,"report/tables/casts/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&abilityid=").concat(e))},getBuffsByAbility:function(t,e){return W("".concat(y.BASE_URL,"report/tables/buffs/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&abilityid=").concat(e))},getBuffsByAbilityAndTime:function(t,e,n,r){return W("".concat(y.BASE_URL,"report/tables/buffs/").concat(t,"?api_key=").concat(y.API_KEY,"&start=").concat(n,"&end=").concat(r,"&abilityid=").concat(e))},getBuffsByAbilityAndEncounter:function(t,e,n){return W("".concat(y.BASE_URL,"report/tables/buffs/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&abilityid=").concat(e,"&encounter=").concat(n))},getCastsByAbilityAndEncounter:function(t,e,n){return W("".concat(y.BASE_URL,"report/tables/casts/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&abilityid=").concat(e,"&encounter=").concat(n))},getDamageDoneByAbilityAndEncounter:function(t,e,n){return W("".concat(y.BASE_URL,"report/tables/damage-done/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&abilityid=").concat(e,"&encounter=").concat(n))},getBOSSTrashSundarCast:function(t,e){return W("".concat(y.BASE_URL,"report/tables/casts/").concat(t,"?api_key=").concat(y.API_KEY,"&end=").concat(y.ENDTIME,"&targetid=").concat(e,"&filter=ability.id%3D11597%20AND%20NOT%20IN%20RANGE%20FROM%20type%20%3D%20%22applydebuffstack%22%20AND%20ability.id%20%3D%2011597%20AND%20stack%20%3D%205%20TO%20type%3D%22removedebuff%22%20AND%20ability.id%3D11597%20GROUP%20BY%20target%20ON%20target%20END&by=source"))}},j={name:"report",initialState:{dmg:null,bossDmg:null,filteredBossDmg:null,fight:null,bossTrashDmg:null,poisonDmgTaken:null,chainDebuff:null,webWrapDebuff:null,rogueSunderDebuff:null,viscidusBanned:null,hunterAura:null,manaPotion:null,runes:null,swiftBoot:null,stopWatch:null,fightsData:null,tactics:null,thaddiusTactics:null,slimeTactics:null,fourTactics:null,spiderTactics:null,kelParry:null,bossTrashLess5SunderCasts:null},reducers:{save:function(t,e){return Object(o.a)({},t,{},e)}},effects:{getS:function(t,e){return e()},getDmg:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getDMGdone(t);case 2:n=e.sent,S.actions.report.save({dmg:n.data.entries});case 4:case"end":return e.stop()}}),e)})))()},getPoisonDmgTaken:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getDamageTakenByAbility(t,y.POISONID);case 2:n=e.sent,S.actions.report.save({poisonDmgTaken:n.data.entries});case 4:case"end":return e.stop()}}),e)})))()},getRogueSunderDebuff:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getDebuffsByAbility(t,y.SUNDERDEBUFFID,!0);case 2:a=e.sent,i=[].concat(Object(k.a)(y.TRASHIDS),Object(k.a)(y.BOSSIDS)).filter((function(t){return!y.REMOVEBOSSIDS.includes(t)})),S.actions.report.save({rogueSunderDebuff:null===(n=a.data)||void 0===n||null===(r=n.auras)||void 0===r?void 0:r.filter((function(t){return i.includes(t.guid)})).reduce((function(t,e){return t+Number(e.totalUses)}),0)});case 5:case"end":return e.stop()}}),e)})))()},getBossTrashDmg:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i,o,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.reportId,r=t.trashIds,a=t.removedBossIds,i=S.actions.report.getS().report.bossDmg,o=[],r.map((function(t){o.push(K.getBOSSTrashDmg(n,t))})),Promise.all(o).then((function(t){t.map((function(t){i=i.map((function(e){var n,r=f.a.cloneDeep(e),a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.total=Number.isInteger(a)?r.total+a:r.total,r})),S.actions.report.save({bossTrashDmg:i})}))})),s=[],a.map((function(t){s.push(K.getBOSSTrashDmg(n,t))})),Promise.all(s).then((function(t){t.map((function(t){i=i.map((function(e){var n,r=f.a.cloneDeep(e),a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.total=Number.isInteger(a)?r.total-a:r.total,r})),S.actions.report.save({bossTrashDmg:i})}))}));case 8:case"end":return e.stop()}}),e)})))()},getExcludedBossDmg:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.reportId,r=t.removedBossIds,a=S.actions.report.getS().report.filteredBossDmg,i=[],r.map((function(t){i.push(K.getBOSSTrashDmg(n,t))})),Promise.all(i).then((function(t){t.map((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e),a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.total=Number.isInteger(a)?r.total-a:r.total,r})),S.actions.report.save({filteredBossDmg:a})}))}));case 5:case"end":return e.stop()}}),e)})))()},getBossTrashSunderCasts:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.reportId,r=t.trashIds,a=S.actions.report.getS().report.bossDmg,i=[],r.map((function(t){i.push(K.getBOSSTrashCast(n,t))})),Promise.all(i).then((function(t){t.map((function(t){a=a.map((function(e){var n,r,a,i=f.a.cloneDeep(e);i.sunder=i.sunder||0;var o=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n||null===(r=n.abilities.find((function(t){return"\u7834\u7532\u653b\u51fb"===t.name})))||void 0===r?void 0:r.total;return i.sunder=Number.isInteger(o)?i.sunder+o:i.sunder,i.rogueSunder=!!(null===(a=t.data.entries.find((function(t){return t.id===e.id})))||void 0===a?void 0:a.abilities.find((function(t){return"\u7834\u7532"===t.name}))),i})),S.actions.report.save({bossTrashSunderCasts:a})}))}));case 5:case"end":return e.stop()}}),e)})))()},getBossTrashLess5SunderCasts:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.reportId,r=t.trashIds,a=S.actions.report.getS().report.bossDmg,i=[],r.map((function(t){i.push(K.getBOSSTrashSundarCast(n,t))})),Promise.all(i).then((function(t){t.map((function(t){a=a.map((function(e){var n,r,a=f.a.cloneDeep(e);a.less5sunder=a.less5sunder||0;var i=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n||null===(r=n.abilities.find((function(t){return"\u7834\u7532\u653b\u51fb"===t.name})))||void 0===r?void 0:r.total;return a.less5sunder=Number.isInteger(i)?a.less5sunder+i:a.less5sunder,a})),S.actions.report.save({bossTrashLess5SunderCasts:a})}))}));case 5:case"end":return e.stop()}}),e)})))()},getBOSSDmg:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getBOSSDMG(t);case 2:n=e.sent,S.actions.report.save({bossDmg:n.data.entries,filteredBossDmg:n.data.entries,tactics:n.data.entries});case 4:case"end":return e.stop()}}),e)})))()},getFight:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getFight(t);case 2:n=e.sent,S.actions.report.save({fight:n.data});case 4:case"end":return e.stop()}}),e)})))()},getFightsData:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S.actions.report.getS().report,r=n.fight,a=r.fights,i=a.map(function(){var e=Object(P.a)(U.a.mark((function e(n){var r,a,i,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getFightSummary(t,n.start_time,n.end_time);case 2:return i=e.sent,s={BattleID:n.id,BattleName:n.name,StartTime:n.start_time,EndTime:n.end_time,BossID:n.boss},e.abrupt("return",null===(r=i.data)||void 0===r||null===(a=r.composition)||void 0===a?void 0:a.filter((function(t){return"Warrior"===t.type||"Rogue"===t.type})).map((function(t){var e,n,r,a,u,c;return Object(o.a)({},s,{name:t.name,class:t.type,mark:s.BattleID+t.name,damageDone:(null===(e=i.data)||void 0===e||null===(n=e.damageDone)||void 0===n||null===(r=n.find((function(e){return e.id===t.id})))||void 0===r?void 0:r.total)||0,healing:(null===(a=i.data)||void 0===a||null===(u=a.healingDone)||void 0===u||null===(c=u.find((function(e){return e.id===t.id})))||void 0===c?void 0:c.total)||0})})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all(i).then((function(t){var e=t.reduce((function(t,e){return t.concat(e)}),[]);S.actions.report.save({fightsData:e})}));case 5:case"end":return e.stop()}}),e)})))()},getManaPotion:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getCastsByAbility(t,y.MANA_POTIONID);case 2:n=e.sent,S.actions.report.save({manaPotion:n.data.entries});case 4:case"end":return e.stop()}}),e)})))()},getStopWatch:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getCastsByAbility(t,y.STOPWATCH_ID);case 2:n=e.sent,S.actions.report.save({stopWatch:n.data.entries});case 4:case"end":return e.stop()}}),e)})))()},getSwiftBoot:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getCastsByAbility(t,y.SWIFT_BOOT_ID);case 2:n=e.sent,S.actions.report.save({swiftBoot:n.data.entries});case 4:case"end":return e.stop()}}),e)})))()},getRunes:function(t){return Object(P.a)(U.a.mark((function e(){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S.actions.report.getS().report.bossDmg,(r=[]).push(K.getCastsByAbility(t,y.DARK_RUNEID)),r.push(K.getCastsByAbility(t,y.DEMON_RUNEID)),Promise.all(r).then((function(t){t.map((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.runes=r.runes||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.runes=Number.isInteger(a)?r.runes+a:r.runes,r})),S.actions.report.save({runes:n})}))}));case 5:case"end":return e.stop()}}),e)})))()},getHunterbuff:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getBuffsByAbility(t,y.HUNTERAURA);case 2:n=e.sent,S.actions.report.save({hunterAura:n.data.auras});case 4:case"end":return e.stop()}}),e)})))()},getSlime:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.reportId,r=t.slimeID,a=S.actions.report.getS().report.tactics,K.getDamageDoneByAbilityAndTarget(n,y.DENSE_BOMB,r).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e),a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.dense1=Number.isInteger(a)?a:0,r})),S.actions.report.save({slimeTactics:a})})),K.getDamageDoneByAbilityAndTarget(n,y.HAT,r).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e),a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.hat=Number.isInteger(a)?a:0,r})),S.actions.report.save({slimeTactics:a})})),e.next=6,K.getDebuffsByAbility(n,y.NOTH_CURSE_ID);case 6:i=e.sent,K.getBuffsByAbilityAndEncounter(n,y.RESTO,y.NOTH_ENCOUNTER_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e),a=i.data.auras.find((function(t){return t.id===e.id})),o=(null===(n=t.data.auras.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.totalUptime)>5e3;return r.resto=a&&!o,r})),S.actions.report.save({slimeTactics:a})})),K.getCastsByAbilityAndEncounter(n,0,y.HEIGAN_ENCOUNTER_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e),a=(null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.gear.find((function(t){return t.id===y.SWIFT_BOOT_ITEM_ID})))?1:0;return r.swiftBoot=Number.isInteger(a)?a:0,r})),S.actions.report.save({slimeTactics:a})}));case 9:case"end":return e.stop()}}),e)})))()},getThaddius:function(t){return Object(P.a)(U.a.mark((function e(){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S.actions.report.getS().report.tactics,K.getCastsByAbilityAndEncounter(t,y.DEATHWISH,y.THADDIUS_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.deathwish1=r.deathwish1||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.deathwish1=Number.isInteger(a)?r.deathwish1+a:r.deathwish1,r})),S.actions.report.save({thaddiusTactics:n})})),K.getCastsByAbilityAndEncounter(t,y.RUSH,y.THADDIUS_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.deathwish1=r.deathwish1||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.deathwish1=Number.isInteger(a)?r.deathwish1+a:r.deathwish1,r})),S.actions.report.save({thaddiusTactics:n})})),K.getCastsByAbilityAndEncounter(t,y.DEATHWISH,y.LOATHEB_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.deathwish2=r.deathwish2||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.deathwish2=Number.isInteger(a)?r.deathwish2+a:r.deathwish2,r})),S.actions.report.save({thaddiusTactics:n})})),K.getCastsByAbilityAndEncounter(t,y.RUSH,y.LOATHEB_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.deathwish2=r.deathwish2||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.deathwish2=Number.isInteger(a)?r.deathwish2+a:r.deathwish2,r})),S.actions.report.save({thaddiusTactics:n})}));case 5:case"end":return e.stop()}}),e)})))()},get4DK:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S.actions.report.getS().report.tactics,r=S.actions.report.getS().report.fight,a=r.fights.find((function(t){return 1113===t.boss})).end_time,i=r.fights.find((function(t){return 1109===t.boss})).start_time,K.getBuffsByAbilityAndTime(t,y.STONESHIELD,a,i).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);return r.stoneShield=null===(n=t.data.auras)||void 0===n?void 0:n.find((function(t){return t.id===e.id})),r})),S.actions.report.save({fourTactics:n})})),K.getCastsByAbilityAndEncounter(t,y.DEATHWISH,y.FOUR_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.deathwish3=r.deathwish3||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.deathwish3=Number.isInteger(a)?r.deathwish3+a:r.deathwish3,r})),S.actions.report.save({fourTactics:n})})),K.getCastsByAbilityAndEncounter(t,y.RUSH,y.FOUR_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.deathwish3=r.deathwish3||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.deathwish3=Number.isInteger(a)?r.deathwish3+a:r.deathwish3,r})),S.actions.report.save({fourTactics:n})})),K.getCastsByAbilityAndEncounter(t,y.RECKLESSNESS,y.FOUR_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.recklessness=r.recklessness||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.recklessness=Number.isInteger(a)?r.recklessness+a:r.recklessness,r})),S.actions.report.save({fourTactics:n})})),K.getCastsByAbilityAndEncounter(t,y.BLADEFLURRY,y.FOUR_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e);r.recklessness=r.recklessness||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.recklessness=Number.isInteger(a)?r.recklessness+a:r.recklessness,r})),S.actions.report.save({fourTactics:n})})),K.getCastsByAbilityAndEncounter(t,y.DARKRES,y.FOUR_ENCOUNTER_ID).then((function(t){n=n.map((function(e){var n,r=f.a.cloneDeep(e),a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.darkres=Number.isInteger(a)?a:0,r})),S.actions.report.save({fourTactics:n})}));case 10:case"end":return e.stop()}}),e)})))()},getSpider:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.reportId,r=t.interruptID,a=S.actions.report.getS().report.tactics,K.getDamageTakenByAbility(n,y.NATUREDMG1).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.natureres=r.natureres||!1;var a=!((null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.hitdetails.length)>0)||t.data.entries.find((function(t){return t.id===e.id})).hitdetails.find((function(t){return"Absorb"===t.type||"Tick Absorb"===t.type||"Resist"===t.type||"Hit"===t.type&&t.absorbOrOverheal>0}));return r.natureres=a||r.natureres,r})),S.actions.report.save({spiderTactics:a})})),K.getDamageTakenByAbility(n,y.NATUREDMG2).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.natureres=r.natureres||!1;var a=!((null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.hitdetails.length)>0)||t.data.entries.find((function(t){return t.id===e.id})).hitdetails.find((function(t){return"Absorb"===t.type||"Tick Absorb"===t.type||"Resist"===t.type||"Hit"===t.type&&t.absorbOrOverheal>0}));return r.natureres=a||r.natureres,r})),S.actions.report.save({spiderTactics:a})})),K.getDamageDoneByAbilityAndTarget(n,y.SAPPER,r).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.sapper=r.sapper||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.sapper=Number.isInteger(a)?r.sapper+a:r.sapper,r})),S.actions.report.save({spiderTactics:a})})),K.getDamageTakenByAbility(n,y.SHADOW_BRUST).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.darkAbsorb=!0;var a=!((null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.hitdetails.length)>0)||t.data.entries.find((function(t){return t.id===e.id})).hitdetails.find((function(t){return"Absorb"===t.type||"Tick Absorb"===t.type||"Resist"===t.type||"Tick"===t.type&&t.absorbOrOverheal>0}));return r.darkAbsorb=a,r})),S.actions.report.save({spiderTactics:a})})),K.getCastsByAbilityAndEncounter(n,0,y.ANUB_ENCOUNTER_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e),a=(null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.gear.find((function(t){return t.id===y.ROCKET_BOOT_ITEM_ID})))?1:0;return r.rocketBoot=Number.isInteger(a)?a:0,r})),S.actions.report.save({spiderTactics:a})})),K.getDamageTakenByAbility(n,y.LIFE_STEAL_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.darkres2=!0;var a=!((null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.hitdetails.length)>0)||t.data.entries.find((function(t){return t.id===e.id})).hitdetails.find((function(t){return"Absorb"===t.type||"Tick Absorb"===t.type||"Resist"===t.type||"Tick"===t.type&&t.absorbOrOverheal>0}));return r.darkres2=a,r})),S.actions.report.save({spiderTactics:a})})),K.getCastsByAbilityAndEncounter(n,y.DEATHWISH,y.SAPPHIRON_ENCOUNTER_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.deathwish4=r.deathwish4||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.deathwish4=Number.isInteger(a)?r.deathwish4+a:r.deathwish4,r})),S.actions.report.save({spiderTactics:a})})),K.getCastsByAbilityAndEncounter(n,y.PUMMEL,y.KEL_ENCOUNTER_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.interrupt2=r.interrupt2||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.hitCount;return r.interrupt2=Number.isInteger(a)?r.interrupt2+a:r.interrupt2,r})),S.actions.report.save({spiderTactics:a})})),K.getCastsByAbilityAndEncounter(n,y.SHIELDBASH,y.KEL_ENCOUNTER_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.interrupt2=r.interrupt2||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.hitCount;return r.interrupt2=Number.isInteger(a)?r.interrupt2+a:r.interrupt2,r})),S.actions.report.save({spiderTactics:a})})),K.getCastsByAbilityAndEncounter(n,y.KICK,y.KEL_ENCOUNTER_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e);r.interrupt2=r.interrupt2||0;var a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.hitCount;return r.interrupt2=Number.isInteger(a)?r.interrupt2+a:r.interrupt2,r})),S.actions.report.save({spiderTactics:a})})),K.getCastsByAbilityAndEncounter(n,y.ICERES,y.KEL_ENCOUNTER_ID).then((function(t){a=a.map((function(e){var n,r=f.a.cloneDeep(e),a=null===(n=t.data.entries.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.total;return r.iceres=Number.isInteger(a)?a:0,r})),S.actions.report.save({spiderTactics:a})}));case 13:case"end":return e.stop()}}),e)})))()},getChainDebuff:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getDebuffsByAbility(t,y.CHAINID);case 2:return n=e.sent,e.next=5,K.getDamageDoneByAbilityAndEncounter(t,0,y.KEL_ENCOUNTER_ID);case 5:r=e.sent,a=S.actions.report.getS().report.fight.fights.find((function(t){return t.boss===y.KEL_ENCOUNTER_ID})),i=a.end_time-a.start_time,s=n.data.auras.map((function(t){var e,n,a=(null===(e=r.data.entries)||void 0===e||null===(n=e.find((function(e){return t.id===e.id})))||void 0===n?void 0:n.total)/(i-t.totalUptime),s=Math.floor(a*t.totalUptime);return Object(o.a)({},t,{debuffDmg:s})})),S.actions.report.save({chainDebuff:s});case 10:case"end":return e.stop()}}),e)})))()},getWebWrapDebuff:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getDebuffsByAbility(t,y.WEBWRAPID);case 2:return n=e.sent,e.next=5,K.getDamageDoneByAbilityAndEncounter(t,0,y.MAEXXNA_ENCOUNTER_ID);case 5:r=e.sent,a=S.actions.report.getS().report.fight.fights.find((function(t){return t.boss===y.MAEXXNA_ENCOUNTER_ID})),i=a.end_time-a.start_time,s=n.data.auras.map((function(t){var e,n,a=t.totalUptime+y.WEB_WRAP_RUN*t.bands.length*1e3,s=(null===(e=r.data.entries)||void 0===e||null===(n=e.find((function(e){return t.id===e.id})))||void 0===n?void 0:n.total)/(i-a),u=Math.floor(s*a);return Object(o.a)({},t,{debuffDmg:u,totalUptime:a})})),S.actions.report.save({webWrapDebuff:s});case 10:case"end":return e.stop()}}),e)})))()},getKelParry:function(t){return Object(P.a)(U.a.mark((function e(){var n,r,a,i,o,s,u,c,d,l,p;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.reportId,r=t.kelID,a=y.BS1_ID,i=y.BS4_ID,o=y.MELEE_ID,s=y.WW_ID,u=y.EX_ID,c=y.HS_ID,d=[a,i,o,s,u,c],l=S.actions.report.getS().report.bossDmg,p=[],d.map((function(t){return p.push(K.getDamageDoneByAbilityAndTarget(n,t,r))})),Promise.all(p).then((function(t){t.map((function(t){var e=t.data.entries.find((function(t){return"Warrior"===t.type}))&&t.data.entries.find((function(t){return"Rogue"===t.type}));l=l.map((function(n){var r,a=f.a.cloneDeep(n);a.kelParryDmg=a.kelParryDmg||0;var i=t.data.entries.find((function(t){return t.id===n.id})),o=(null===i||void 0===i?void 0:i.hitCount)?(null===i||void 0===i?void 0:i.total)/(null===i||void 0===i?void 0:i.hitCount):0,s=o&&(null===i||void 0===i||null===(r=i.missdetails.find((function(t){return"Parry"===t.type})))||void 0===r?void 0:r.count),u=s&&Math.floor(o*s*("Warrior"===i.type&&e?2:1));return a.kelParryDmg=Number.isInteger(u)?a.kelParryDmg+u:a.kelParryDmg,a})),S.actions.report.save({kelParry:l})}))}));case 7:case"end":return e.stop()}}),e)})))()}}};n(567);T.a.model(j),Object(S.render)(a.a.createElement(S.Router,null,a.a.createElement(S.Switch,null,a.a.createElement(S.Route,{path:"/",component:w}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[311,1,2]]]);
//# sourceMappingURL=main.c6a0bd71.chunk.js.map